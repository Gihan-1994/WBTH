yarn run v1.22.19
$ next dev
▲ Next.js 16.1.3 (Turbopack)
- Local:         http://localhost:3000
- Network:       http://192.168.1.2:3000
- Environments: .env

✓ Starting...
⚠ The "middleware" file convention is deprecated. Please use "proxy" instead. Learn more: https://nextjs.org/docs/messages/middleware-to-proxy
✓ Ready in 806ms
 GET /dashboard/admin 200 in 1160ms (compile: 572ms, proxy.ts: 270ms, render: 318ms)
 GET /api/auth/session 200 in 1177ms (compile: 1136ms, render: 40ms)
prisma:error 
Invalid `__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$prisma$2f$dist$2f$src$2f$client$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["prisma"].user.count()` invocation in
/home/gihan/WBTH/apps/web/.next/dev/server/chunks/[root-of-the-server]__c152d71e._.js:331:207

  328 const startDate = new Date(now);
  329 startDate.setDate(startDate.getDate() - daysToSubtract);
  330 // Get user statistics
→ 331 const totalUsers = await __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$prisma$2f$dist$2f$src$2f$client$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["prisma"].user.count(
Can't reach database server at 127.0.0.1:5432
Error fetching analytics: Error [PrismaClientKnownRequestError]: 
Invalid `__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$prisma$2f$dist$2f$src$2f$client$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["prisma"].user.count()` invocation in
/home/gihan/WBTH/apps/web/.next/dev/server/chunks/[root-of-the-server]__c152d71e._.js:331:207

  328 const startDate = new Date(now);
  329 startDate.setDate(startDate.getDate() - daysToSubtract);
  330 // Get user statistics
→ 331 const totalUsers = await __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$prisma$2f$dist$2f$src$2f$client$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["prisma"].user.count(
Can't reach database server at 127.0.0.1:5432
    at <unknown> (app/api/admin/analytics/route.ts:23:46)
    at <unknown> (Can't reach database server at 127.0.0.1:5432)
    at async GET (app/api/admin/analytics/route.ts:23:28)
  21 |
  22 |         // Get user statistics
> 23 |         const totalUsers = await prisma.user.count();
     |                                              ^
  24 |         const usersByType = await prisma.user.groupBy({
  25 |             by: ["role"],
  26 |             _count: true, {
  code: 'P1001',
  meta: [Object],
  clientVersion: '7.2.0'
}
 GET /api/admin/analytics?period=daily 500 in 410ms (compile: 61ms, render: 349ms)
prisma:error 
Invalid `__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$prisma$2f$dist$2f$src$2f$client$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["prisma"].user.count()` invocation in
/home/gihan/WBTH/apps/web/.next/dev/server/chunks/[root-of-the-server]__c152d71e._.js:331:207

  328 const startDate = new Date(now);
  329 startDate.setDate(startDate.getDate() - daysToSubtract);
  330 // Get user statistics
→ 331 const totalUsers = await __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$prisma$2f$dist$2f$src$2f$client$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["prisma"].user.count(
Can't reach database server at 127.0.0.1:5432
Error fetching analytics: Error [PrismaClientKnownRequestError]: 
Invalid `__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$prisma$2f$dist$2f$src$2f$client$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["prisma"].user.count()` invocation in
/home/gihan/WBTH/apps/web/.next/dev/server/chunks/[root-of-the-server]__c152d71e._.js:331:207

  328 const startDate = new Date(now);
  329 startDate.setDate(startDate.getDate() - daysToSubtract);
  330 // Get user statistics
→ 331 const totalUsers = await __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$prisma$2f$dist$2f$src$2f$client$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__$3c$locals$3e$__["prisma"].user.count(
Can't reach database server at 127.0.0.1:5432
    at <unknown> (app/api/admin/analytics/route.ts:23:46)
    at <unknown> (Can't reach database server at 127.0.0.1:5432)
    at async GET (app/api/admin/analytics/route.ts:23:28)
  21 |
  22 |         // Get user statistics
> 23 |         const totalUsers = await prisma.user.count();
     |                                              ^
  24 |         const usersByType = await prisma.user.groupBy({
  25 |             by: ["role"],
  26 |             _count: true, {
  code: 'P1001',
  meta: [Object],
  clientVersion: '7.2.0'
}
 GET /api/admin/analytics?period=daily 500 in 239ms (compile: 3ms, render: 236ms)
 GET /api/auth/session 200 in 53ms (compile: 34ms, render: 19ms)
 GET /api/auth/session 200 in 87ms (compile: 53ms, render: 34ms)
 GET /dashboard/admin 200 in 118ms (compile: 9ms, proxy.ts: 19ms, render: 89ms)
 GET /api/auth/session 200 in 76ms (compile: 50ms, render: 25ms)
 GET /api/admin/analytics?period=daily 200 in 2.7s (compile: 17ms, render: 2.7s)
 GET /api/admin/analytics?period=daily 200 in 59ms (compile: 4ms, render: 55ms)
 GET /api/auth/session 200 in 53ms (compile: 33ms, render: 20ms)
 GET /api/auth/session 200 in 129ms (compile: 90ms, render: 39ms)
 GET / 200 in 133ms (compile: 105ms, render: 28ms)
 GET /api/admin/check-exists 200 in 227ms (compile: 119ms, render: 108ms)
 GET /api/admin/check-exists 200 in 14ms (compile: 3ms, render: 10ms)
