# Project Tasks

## Rules
1. Always add comments to exported functions.
2. Use simplest and efficient logics to perform functions.
3. Use performance optimized codes.
4. Use best practices for code quality.
5. Use new dependencies only if they are actually required.
6.Maintain folder structure by separating hooks ,utils,components etc.

## Tasks
- [x] Implement CI/CD Pipelines (GitHub Actions for lint, test, build)
- [x] Implement Role-Based Dashboards
    - [x] Create dashboard layouts for different user roles
    - [x] Implement login redirection logic based on user role
- [x] Implement Tourist Dashboard
    - [x] Update Schema: Add `Tourist` model (country, dob) linked to `User`
    - [x] Backend: API for Tourist Profile (get/update) and Change Password
    - [x] Backend: API for Tourist Bookings (get history, cancel booking)
    - [x] Frontend: Tourist Dashboard UI
        - [x] Top section: Tourist details
        - [x] Profile section: Edit info (name, email, phone, country, dob) & Change Password
        - [x] Booking History: List with status, view details modal, cancel action
        - [x] Bottom section: Booking Statistics
        - [x] Navigation: Button to Home Page
- [x] Implement Guide Dashboard
    - [x] Update Schema: Add `Guide` model (specialization, experience, languages, availability) linked to `User`
    - [x] Backend: API for Guide Profile (get/update) and Change Password
    - [x] Backend: API for Guide Bookings (get history, cancel booking)
    - [x] Frontend: Guide Dashboard UI
        - [x] Top section: Guide details
        - [x] Profile section: Edit info (name, email, phone, specialization, experience, languages, availability) & Change Password
        - [x] Booking History: List with status, view details modal, cancel action
        - [x] Bottom section: Booking Statistics(total, pending, confirmed, cancelled, income from payments)
        - [x] Navigation: Button to Home Page
- [x] Implement Accommodation Provider Dashboard
    - [x] Update Schema: Add `AccommodationProvider` model (company name, list of accommodations owned) linked to `User`
    - [x] Update Schema: Add `Accommodation` model (name, type, amenities, rating, account no, budget, location, price range, province, interests, group size, num booking dates, prior bookings) linked to `AccommodationProvider`
    - [x] Backend: API for Accommodation Provider Profile (get/update) and Change Password
    - [x] Backend: API for Accommodation Provider Bookings (get history, cancel booking)
    - [x] Backend: API for Accommodation Provider Accommodations (get / update / delete / create)
    - [x] Frontend: Accommodation Provider Dashboard UI
        - [x] Top section: Accommodation Provider details
        - [x] Profile section: Edit info (company name, email, phone,company logo image) & Change Password
        - [x] Accommodations section: List with status, view details modal, update action,add some images action,delete action
        - [x] Booking History: List with status, view details modal, cancel action
        - [x] Bottom section: Booking Statistics(total, pending, confirmed, cancelled, income from payments)
        - [x] Navigation: Button to Home Page
- [x] Implement Accommodation Search
    - [x] Backend: API for searching accommodations with filters (location, budget, amenities, etc.)
    - [x] Frontend: Search Page (filters, list of accommodations)
    - [x] Frontend: Accommodation Details Page
- [x] Implement Guide Search
    - [x] Backend: API for searching guides with filters (location, language, expertise, etc.)
    - [x] Frontend: Search Page (filters, list of guides)
    - [x] Frontend: Guide Details Page
- [x] Implement Booking Creation
    - [x] Backend: API for creating bookings
    - [x] Frontend: Booking Flow (select dates, confirm)
- [x] Implement Homepage
    - [x] Main heading ("Tourism Hub") and description ("Your one-stop destination for all tourism needs")
    - [x] Sections: Personal recommendations based on ML algorithms,
        Accommodations, Guides, Upcoming Events , Chat bot interaction , My Profile
        - [x] Each section should have a title and description
        - [x] Navigation: Each section should navigate to its own page
        - [x] when click on my profile section it should navigate to user profile page according to their role. 
        - [x] Include some colourful suitable svg icons for each section
- [x] Implement ML based recommendations (Testing Phase 1)
    - [x] Follow the wbth_6_week_build_plan_architecture_spec.md and under Modules & Responsibilities find 4)Recommendations (ML) and implement section 4.1(Accommodation Recommendation — Simple Hybrid (Rule‑first + Scored Ranking)).
    - [x] As initial step genarate 1000 records of mock data for data columns mentioned in the wbth_6_week_build_plan_architecture_spec.md and under Modules & Responsibilities find 4)Recommendations (ML) and implement section 4.1(Accommodation Recommendation — Simple Hybrid (Rule‑first + Scored Ranking)).
    - [x] Implemet the ML model and try to generate recommendations for a user.
    - [x] Evaluate the model using some simple metrices.
    - [x] Currently user inputs are entered in the same python file.
    - [x] Use simple and efficient logics to perform functions. 
    - [x] Use performance optimized codes.
    - [x] Use best practices for code quality.
    - [x] Use new dependencies only if they are actually required.
    - [x] Add descriptive comments to the code.
    - [x] Do not interact with DB or frontend. 
    - [x] Update current progress and implementation in ML_progress.md file.
- [x] Implement ML based recommendations (Testing Phase 2)
    - [x] Refer the current accommoadation recommendation model and integrate it with the frontend.
    - [x] When user clicks for you section  in frondend it should dirrect to reccommondation page. That page contains 2 tabs as accommodation and guide. Currently implement only accommodation tab.
    - [x] In the accommodation tab, user should be able to select the location, budget, amenities, etc. and get recommendations based on those filters.
    - [x] Integrate the model with the postgres DB and get current accommodation data.
    - [x] Use both mock data and current accommodation data to generate recommendations.
    - [x] If the suggested accommodations are not available in the db it should show flag as "not registered in the system".
    - [x] If the suggested accommodations are available in the db it should show button as "book now".
- [x] Implement ML based recommendations for guides (Testing Phase 1)
    - [x] Follow the wbth_6_week_build_plan_architecture_spec.md and under Modules & Responsibilities find 4)Recommendations (ML) and implement section 4.2(Guide Recommendation — Simple Hybrid (Rule‑first + Scored Ranking)).
    - [x] Generate mock data for guide recommendation model and implement it (1000 records).
    - [x] Use hard filters for province , language, price range, city only if user selects them.
    - [x] Use seperate directory for the model named as GuidesRecommendationModel.
    - [x] Use simple and efficient logics to perform functions. 
    - [x] Use performance optimized codes.
    - [x] Use best practices for code quality.
    - [x] Use new dependencies only if they are actually required.
    - [x] Add descriptive comments to the code. 
    - [x] Update current progress and implementation in ML_progress.md file.
    - [x] Evaluate the model using some simple metrices same as accommodation recommendation model.
    - [x] Integrate the model with the postgres DB and get current guide data.
    - [x] Use both mock data and current guide data to generate recommendations.
    - [x] If the suggested guides are not available in the db it should show flag as "not registered in the system".
    - [x] If the suggested guides are available in the db it should show button as "book now".
    - [x] Give priority to the guides that are available in the db.
    - [x] Integrate the model with the frontend and display the recommendations in the frontend in "for you" section under guides tab.
- [x] Implement UI Enhancements Across Application
    - [x] Enhance Homepage UI
        - [x] Apply modern gradient backgrounds and glassmorphism effects
        - [x] Add hero section with background image
        - [x] Improve section cards with hover effects and animations
        - [x] Use emoji icons for better visual appeal
    - [x] Enhance Login Page UI
        - [x] Add gradient backgrounds and modern card design
        - [x] Implement glassmorphism effects
        - [x] Add smooth transitions and hover effects
    - [x] Enhance Register Page UI
        - [x] Apply consistent gradient theme
        - [x] Improve form layout and styling
        - [x] Add visual feedback for form interactions
    - [x] Enhance Accommodations Page UI
        - [x] Modernize search filters with better styling
        - [x] Improve accommodation cards with gradients and shadows
        - [x] Add hover effects and transitions
    - [x] Enhance Guides Page UI
        - [x] Update filter section with modern design
        - [x] Improve guide cards with consistent styling
        - [x] Add interactive elements and animations
    - [x] Enhance Recommendations Page UI
        - [x] Modernize tab navigation
        - [x] Improve filter UI with better organization
        - [x] Update recommendation cards with gradient accents
    - [x] Enhance Tourist Dashboard UI
        - [x] Apply gradient backgrounds and modern card designs
        - [x] Improve profile section with better visual hierarchy
        - [x] Update statistics cards with gradient text
        - [x] Enhance booking history table with better styling
- [x] Refactor Provider Dashboard
    - [x] Create component directory structure
        - [x] Create `types.ts` for shared TypeScript interfaces
        - [x] Create `constants.ts` for shared constants
        - [x] Create `modals/` directory for modal components
    - [x] Extract and create display components
        - [x] `ProviderHeader.tsx` - Dashboard header with welcome message
        - [x] `CompanyProfileCard.tsx` - Profile display and management
        - [x] `StatisticsCard.tsx` - Dashboard statistics with responsive grid
        - [x] `AccommodationsSection.tsx` - Accommodations table and management
        - [x] `BookingHistorySection.tsx` - Booking history table
    - [x] Extract modal components
        - [x] `EditProfileModal.tsx` - Edit profile with image upload
        - [x] `ChangePasswordModal.tsx` - Password change functionality
        - [x] `AccommodationModal.tsx` - Add/Edit accommodation with comprehensive form
        - [x] `AccommodationImagesModal.tsx` - Manage accommodation images
        - [x] `ViewBookingModal.tsx` - View booking details
    - [x] Refactor main dashboard page
        - [x] Reduce from 1082 lines to ~240 lines
        - [x] Implement component-based architecture
        - [x] Update layout: Profile (left), Accommodations & Bookings (right), Statistics (bottom full-width)
        - [x] Maintain all existing functionality
    - [x] Apply modern UI enhancements
        - [x] Consistent gradient theme (green-to-blue)
        - [x] Glassmorphism and shadow effects
        - [x] Emoji icons for better UX
        - [x] Hover effects and transitions
    - [x] Fix TypeScript compatibility issues
        - [x] Remove React.memo from modal components to resolve type conflicts
        - [x] Ensure all components compile without errors
- [x] Implement Chatbot Integration
    - [x] Create `Chatbot.tsx` component
    - [x] Integrate Botpress webchat SDK
    - [x] Add inline button mode for homepage
    - [x] Implement fallback mechanisms for script loading
    - [x] Add extensive error handling and logging
- [x] Refactor Guide Dashboard
    - [x] Create component directory structure
        - [x] Create `types.ts` for shared TypeScript interfaces
        - [x] Create `constants.ts` for shared constants (languages, expertise, cities, provinces)
        - [x] Create `modals/` directory for modal components
    - [x] Extract and create display components
        - [x] `GuideHeader.tsx` - Dashboard header with welcome message
        - [x] `GuideProfileCard.tsx` - Profile display with picture, badges, and email toggle
        - [x] `StatisticsCard.tsx` - Dashboard statistics with responsive grid
        - [x] `BookingHistorySection.tsx` - Booking history table with actions
    - [x] Extract modal components
        - [x] `EditProfileModal.tsx` - Edit profile with image upload, multi-select, experience editor
        - [x] `ChangePasswordModal.tsx` - Password change functionality
        - [x] `ViewBookingModal.tsx` - View booking details with color-coded sections
    - [x] Refactor main dashboard page
        - [x] Reduce from 851 lines to ~180 lines (79% reduction)
        - [x] Implement component-based architecture
        - [x] Update layout: Profile (left), Bookings (right), Statistics (bottom full-width)
        - [x] Maintain all existing functionality
    - [x] Apply modern UI enhancements
        - [x] Consistent gradient theme (green-to-blue)
        - [x] Glassmorphism and shadow effects
        - [x] Emoji icons for better UX
        - [x] Hover effects and transitions
        - [x] Profile picture with gradient ring effect
        - [x] Language & expertise badges
        - [x] Responsive grid layout
- [x] Create Development Scripts
    - [x] Create `start-all.sh` script to start database, ML service, and frontend
    - [x] Add proper error handling and process management
    - [x] Create `scripts/README.md` with comprehensive documentation
    - [x] Fix frontend startup to use direct Next.js command
- [x] Add Profile Picture to Tourist Dashboard
    - [x] Add `profile_picture` field to Tourist model in Prisma schema
    - [x] Generate Prisma client with updated schema
    - [x] Create API endpoint `/api/tourist/profile-picture` for upload/remove
    - [x] Update `UserProfile` interface to include `profile_picture`
    - [x] Add profile picture upload functionality to `EditProfileModal`
    - [x] Add profile picture display with gradient ring to profile section
    - [x] Implement image validation (type, size)
    - [x] Add Base64 encoding for image storage
- [x] Implement Admin Profile
    - [x] Add a separate registration for Admin link with button in Homepage.
    - [x] Once Admin registers, he will be logged in and redirected to Admin Dashboard.
    - [x] Once Admin registers admin registration button should dissapear and update it to a Admin Area button with admin icon in right upper corner in Homepage.
    - [x] Admin Area button should redirect to login page.
    - [x] Admin should use same user login page.
    - [x] Admin should have a separate dashboard.
    - [x] Admin dashboard should display all analitics.
    - [x] Admin dashboard should display all users.
    - [x] Admin dashboard should display all guides.
    - [x] Admin dashboard should display all bookings with their status.
    - [x] Admin dashboard should display all accommodations catagorized with relevent providers.
    - [x] Admin should be able to send messages to  all users with emails if email option is enabled otherwise send notification only.
    - [x] Admin dashboard should display all platform income.
    - [x] Admin should be able to add, edit, delete  all types of users.
    - [x] Use Chart.js with react-chartjs-2 to display analytics.
    - [x] Admin should be able to create, update and delete events as in events model in schema.
    - [x] Before implement in frontend, breakdown all sections in to reusable components and implement them in components/admin/ directory.
    - [x] Implement other required reusble services in lib/admin/ directory if needed.
- [ ] Implement Admin Event management section in admin dashboard.
    - [ ] In event management section admin should be able to add new events with images. 
    - [ ] Update prisma schema to store images for event
    - [ ] In Home page it should display updated events by admin with simple event calander. Better it created with event card for an event and add properties of event details to event card.
    - [ ] Spilt sections in to components and import created components to main page. 
    - [ ] Currently users can only view events. 
    - [ ] Maintain Consistant simple UI make it more humanize and user friendly.
     

    
    
    
    
